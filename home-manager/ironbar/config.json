{
  "name": "main",
  "position": "top",
  "icon_theme": "Papirus-Dark",
  "anchor_to_edges": true,
  "start_hidden": true,
  "popup_gap": 12,
  "popup_autohide": true,

  "start": [
    {
      "type": "workspaces"
    }
  ],

  "center": [
    {
      "type": "custom",
      "class": "weather",
      "show_if": "poll:300000:~/.config/ironbar/modules/weather/has-weather-data.sh",
      "bar": [
        {
          "type": "button",
          "class": "flat",
          "label": "{{600000:~/.config/ironbar/modules/weather/weather-status.sh}}",
          "on_click": "popup:toggle"
        }
      ],
      "popup": [
        {
          "type": "box",
          "orientation": "vertical",
          "widgets": [
            {
              "type": "label",
              "class": "weather-forecast",
              "label": "{{600000:~/.config/ironbar/modules/weather/weather-forecast.sh}}"
            }
          ]
        }
      ]
    },
    {
      "type": "clock"
    },
    {
      "type": "custom",
      "class": "notifications",
      "bar": [
        {
          "type": "button",
          "class": "flat",
          "label": "{{watch:2000:~/.config/ironbar/modules/notifications/notification-count-watch.sh}}",
          "on_click": "popup:toggle"
        }
      ],
      "popup": [
        {
          "type": "box",
          "orientation": "vertical",
          "widgets": [
            {
              "type": "label",
              "label": "Notifications"
            },
            {
              "type": "label",
              "label": "{{2000:~/.config/ironbar/modules/notifications/notification-history.sh}}"
            },
            {
              "type": "box",
              "orientation": "horizontal",
              "widgets": [
                {
                  "type": "button",
                  "label": "Clear All",
                  "on_click": "!dunstctl history-clear"
                },
                {
                  "type": "button",
                  "label": "Close",
                  "on_click": "popup:close"
                }
              ]
            }
          ]
        }
      ]
    }
  ],

  "end": [
    {
      "type": "tray",
      "icon_size": 16,
      "show_if": "poll:2000:~/.config/ironbar/modules/tray/has-tray-items.sh"
    },
    {
      "type": "custom",
      "class": "storage",
      "show_if": "poll:3000:~/.config/ironbar/modules/storage/has-mounted-devices.sh",
      "bar": [
        {
          "type": "button",
          "class": "flat",
          "label": "{{3000:~/.config/ironbar/modules/storage/storage-status.sh}}",
          "on_click": "popup:toggle"
        }
      ],
      "popup": [
        {
          "type": "box",
          "orientation": "horizontal",
          "class": "storage-row",
          "widgets": [
            {
              "type": "button",
              "class": "storage-name",
              "label": "{{3000:~/.config/ironbar/modules/storage/device-name.sh 1}}",
              "on_click": "!~/.config/ironbar/modules/storage/open-device.sh 1"
            },
            {
              "type": "button",
              "class": "storage-eject",
              "label": "{{3000:~/.config/ironbar/modules/storage/device-eject.sh 1}}",
              "on_click": "!~/.config/ironbar/modules/storage/eject-device.sh 1"
            }
          ]
        }
      ]
    },
    {
      "type": "custom",
      "class": "firewall",
      "show_if": "poll:60000:~/.config/ironbar/modules/firewall/has-refused.sh",
      "bar": [
        {
          "type": "button",
          "class": "flat",
          "label": "{{60000:~/.config/ironbar/modules/firewall/firewall-status.sh}}",
          "on_click": "popup:toggle"
        }
      ],
      "popup": [
        {
          "type": "box",
          "orientation": "vertical",
          "class": "popup-firewall",
          "widgets": [
            {
              "type": "label",
              "class": "firewall-details",
              "label": "{{60000:~/.config/ironbar/modules/firewall/firewall-details.sh}}"
            }
          ]
        }
      ]
    },
    {
      "format": [
        " {cpu_percent}%",
        " {memory_percent}%",
        "{temp_c@k10temp Tctl}°C"
      ],
      "type": "sys_info"
    },
    {
      "type": "custom",
      "class": "wifi",
      "bar": [
        {
          "type": "label",
          "label": "{{5000:~/.config/ironbar/modules/wifi/wifi-status.sh}}"
        }
      ]
    },
    {
      "type": "bluetooth",
      "popup": {
        "max_height": {
          "devices": 8
        }
      }
    },
    {
      "type": "custom",
      "class": "mouse-battery",
      "show_if": "poll:10000:~/.config/ironbar/modules/mouse-battery/has-mouse-connected.sh",
      "bar": [
        {
          "type": "label",
          "label": "{{30000:~/.config/ironbar/modules/mouse-battery/mouse-battery-status.sh}}"
        }
      ]
    },
    {
      "type": "custom",
      "class": "volume",
      "bar": [
        {
          "type": "label",
          "label": "{{1000:~/.config/ironbar/modules/volume/volume-status.sh}}"
        }
      ]
    },
    {
      "type": "custom",
      "class": "display",
      "bar": [
        {
          "type": "button",
          "class": "flat",
          "label": "{{2000:~/.config/ironbar/modules/display/display-status.sh}}",
          "on_click": "popup:toggle"
        }
      ],
      "popup": [
        {
          "type": "box",
          "orientation": "vertical",
          "widgets": [
            {
              "type": "label",
              "class": "popup-title",
              "label": "Display Settings"
            },
            {
              "type": "label",
              "class": "display-details",
              "label": "{{2000:~/.config/ironbar/modules/display/display-details.sh}}"
            },
            {
              "type": "label",
              "class": "popup-separator",
              "label": "─────────────────"
            },
            {
              "type": "button",
              "class": "display-toggle",
              "label": "{{2000:~/.config/ironbar/modules/display/get-auto-status.sh}}",
              "on_click": "!~/.config/ironbar/modules/display/toggle-auto.sh"
            },
            {
              "type": "button",
              "class": "display-toggle",
              "label": "{{2000:~/.config/ironbar/modules/display/get-stay-on-status.sh}}",
              "on_click": "!~/.config/ironbar/modules/display/toggle-stay-on.sh"
            }
          ]
        }
      ]
    },
    {
      "type": "custom",
      "class": "battery",
      "bar": [
        {
          "type": "button",
          "class": "flat",
          "label": "{{watch:5000:~/.config/ironbar/modules/battery/battery-watch.sh}}",
          "on_click": "popup:toggle"
        }
      ],
      "popup": [
        {
          "type": "box",
          "orientation": "vertical",
          "widgets": [
            {
              "type": "label",
              "class": "popup-title",
              "label": "Battery Details"
            },
            {
              "type": "label",
              "class": "battery-details",
              "label": "{{5000:~/.config/ironbar/modules/battery/battery-details.sh}}"
            },
            {
              "type": "label",
              "class": "popup-separator",
              "label": "─────────────────"
            },
            {
              "type": "label",
              "class": "popup-title",
              "label": "Power Profile"
            },
            {
              "type": "label",
              "class": "power-profile-current",
              "label": "{{2000:~/.config/ironbar/modules/battery/get-profile.sh}}"
            },
            {
              "type": "box",
              "orientation": "vertical",
              "class": "power-profile-buttons",
              "spacing": 8,
              "widgets": [
                {
                  "type": "button",
                  "label": "low-power",
                  "on_click": "!~/.config/ironbar/modules/battery/set-profile.sh low-power"
                },
                {
                  "type": "button",
                  "label": "balanced",
                  "on_click": "!~/.config/ironbar/modules/battery/set-profile.sh balanced"
                },
                {
                  "type": "button",
                  "label": "performance",
                  "on_click": "!~/.config/ironbar/modules/battery/set-profile.sh performance"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
